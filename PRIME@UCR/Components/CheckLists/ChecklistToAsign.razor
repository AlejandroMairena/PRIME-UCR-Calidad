@inherits ChecklistToAsignBase
@using PRIME_UCR.Components.Controls
@*@using BlazorTable*@
@using PRIME_UCR.Domain.Models.CheckLists;
@attribute [Authorize]
<link href="css/Checklist.css" rel="stylesheet" />


<Loading IsLoading="lists == null">
    @if (llenado == false)
    {
        Llenar();
    }
    <EditForm Model="lists">
        @*<Table TableItem="CheckList" Items="lists" PageSize="12">
        <Column TableItem="CheckList" Title="" Field="@(tempList => lists)" Width="1%">
            <Template Context="checkbox">
                <center>
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="customCheck @checkbox.Id" @onchange="((ChangeEventArgs c) => CheckIempList(checkbox.Id,c))" />
                        <label class="custom-control-label" for="customCheck @checkbox.Id"></label>
                    </div>
                </center>
            </Template>
        </Column>

        <Column TableItem="CheckList" Title="Nombre" Field="@( x => x.Nombre)" Width="30%" />
        <Column TableItem="CheckList" Title="Tipo" Field="@(x => x.Tipo)" Width="20%" />
        <Column TableItem="CheckList" Title="Descripción" Field="@(x => x.Descripcion)" Width="20%" />

        @*<EmptyDataTemplate>
                <div class="text-center">
                    No se encontraron listas de chequeo disponibles
                </div>
            </EmptyDataTemplate>poner arroba

        </Table>*@
    </EditForm>
    <EditForm Model="lists">
        @*<Table TableItem="CheckList" Items="lists" PageSize="12">
        <Column TableItem="CheckList" Title="Nombre" Field="@( x => x.Nombre)" Width="30%">
            <Template Context="tempList">
                @if (TempDetail[TempsIds.LastIndexOf(tempList.Id)].IsDone)
                {

                    <a>@tempList.Nombre</a>
                }
            </Template>
        </Column>
        <Column TableItem="CheckList" Title="Tipo" Field="@(x => x.Tipo)" Width="20%">
            <Template Context="tempList">
                @if (TempDetail[TempsIds.LastIndexOf(tempList.Id)].IsDone)
                {
                    <a>@tempList.Tipo</a>
                }
            </Template>
        </Column>
        <Column TableItem="CheckList" Title="Descripción" Field="@(x => x.Descripcion)" Width="20%">
            <Template Context="tempList">
                @if (TempDetail[TempsIds.LastIndexOf(tempList.Id)].IsDone)
                {
                    <a>@tempList.Descripcion</a>
                }
            </Template>
        </Column>
        @*<EmptyDataTemplate>
                <div class="text-center">
                    No se han asignado listas de chequeo
                </div>
            </EmptyDataTemplate>poner arroba
        </Table>*@
    </EditForm>
    <div align="center">
        <button type="submit" class="btn btn-primary" id="BP_LC0" disabled="@dont_save">Guardar</button>
        <a class="btn btn-outline-secondary" @onclick="Dispose" id="a_LC3">Cancelar</a>
    </div>
</Loading>
