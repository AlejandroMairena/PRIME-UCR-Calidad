@inherits AllChecklistBase
@using PRIME_UCR.Components.Controls
@using BlazorTable
@using PRIME_UCR.Domain.Models.CheckLists;
@using PRIME_UCR.Components.CheckLists.Plantillas
@attribute [Authorize]
<link href="css/Checklist.css" rel="stylesheet" />


<div>
    @if (lists == null)
    {
        <p><em class="nav-link">Cargando listas de chequeo.</em></p> }
    else
    {
        if (lists.Count() == 0)
        {
            <p><em class="nav-link">No se ha creado ninguna lista, presione el boton + para crear una.</em></p> }
        else
        {
            <div class="rounded" style="background-color: white;padding-left: 10px;padding-right: 10px; padding-top:10px;">
                <h5>Listas de chequeo</h5>
                <EditForm Model="lists">
                    <Table TableItem="CheckList" Items="lists" PageSize="3">

                        <Column TableItem="CheckList" Title="Nombre" Field="@( x => x.Id)" Width="30%">
                            <Template Context="tempList">
                                <a href='@string.Format("checklist/{0}", @tempList.Id)'>
                                    <b>
                                        @tempList.Nombre
                                    </b>
                                </a>
                            </Template>

                        </Column>
                        <Column TableItem="CheckList" Title="Tipo" Field="@(x => x.Id)" Width="20%">
                            <Template Context="tempList">
                                <a>
                                    @tempList.Tipo
                                </a>
                            </Template>
                        </Column>
                        <Column TableItem="CheckList" Title="Descripción" Field="@(x => x.Id)" Width="20%">
                            <Template Context="tempList">
                                <a>
                                    @tempList.Descripcion
                                </a>
                            </Template>
                        </Column>
                        <Column TableItem="CheckList" Title="Orden" Field="@(x => x.Id)" Width="20%">
                            <Template Context="tempList">
                                <a>
                                    @tempList.Orden
                                </a>
                            </Template>
                        </Column>
                        <EmptyDataTemplate>
                            <div class="text-center">
                                No se encontraron plantillas de listas de chequeo
                            </div>
                        </EmptyDataTemplate>
                        <Pager ShowPageNumber="true" />
                    </Table>
                </EditForm>
            </div>
        }
    }
</div>
