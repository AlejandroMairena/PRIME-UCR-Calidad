@attribute [Authorize]
@using BlazorTable
@using PRIME_UCR.Domain.Models.MedicalRecords

<h2>Antecedentes y Alergias</h2>
<div class="jumbotron white-panel">
    <Table TableItem="Antecedentes" Items="Antecedentes" PageSize="3" class="table table-bordered">
        <Column TableItem="Antecedentes" Title="Antecedentes del paciente" Field="@(x => x.ListaAntecedentes.NombreAntecedente)" Filterable="true" Sortable="true" Width="18%" />
        <EmptyDataTemplate>
            <div class="text-center">
                No se encontraron antecedentes registrados.
            </div>
        </EmptyDataTemplate>

        <Pager ShowPageNumber="true" ShowTotalCount="true" />
    </Table>
    <div>
        <EditForm EditContext="_contAnte">
            @* HAcer que el dropdown no muestre los qque ya estan*@
            <DropDownMenu T="ListaAntecedentes" Data="ListaAntecedentes"
                          Label="Antecedentes Medicos"
                          TextProperty="NombreAntecedente"
                          DefaultText="Seleccione un Antecedente"
                          Required="false"
                          Disabled="false"
                          @bind-Value="@antecedetePrueba" />
            <form>
                @* Insert *@

            </form>
        </EditForm>


    </div>
</div>

<br>
<br>
<div class="jumbotron white-panel">
    <Table TableItem="Alergias" Items="Alergias" PageSize="3" class="table table-bordered">
        <Column TableItem="Alergias" Title="Alergias del paciente" Field="@(x => x.ListaAlergia.NombreAlergia)" Filterable="true" Sortable="true" Width="18%" />
        <EmptyDataTemplate>
            <div class="text-center">
                No se encontraron alergias registradas.
            </div>
        </EmptyDataTemplate>

        <Pager ShowPageNumber="true" ShowTotalCount="true" />
    </Table>
    <div>
        <EditForm EditContext="_contAle">
            <DropDownMenu T="ListaAlergia" Data="ListaAlergia"
                          Label="Alergias"
                          TextProperty="NombreAlergia"
                          DefaultText="Seleccione una alergia"
                          Required="false"
                          Disabled="false"
                          @bind-Value="@AlergiaPrueba" />
        </EditForm>


    </div>
</div>