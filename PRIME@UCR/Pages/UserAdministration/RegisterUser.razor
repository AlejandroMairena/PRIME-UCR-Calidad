@attribute [HasPolicy(AuthorizationPolicies.CanManageUsers)]
@page "/user_administration/registerUser"

@using PRIME_UCR.Application.DTOs.UserAdministration
@using PRIME_UCR.Application.Implementations.UserAdministration
@using PRIME_UCR.Components.UserAdministration

<h3>Registrar usuarios en la aplicación</h3>

<p>
    En esta página usted puede hacer el registro de usuarios en la aplicación
</p>

<StatusMessage Message="@statusMessage" Class="@messageType" />

<EditForm Model="infoOfUserToRegister" OnValidSubmit="RegisterUserInDB">
    <FluentValidationValidator />

    <RegisterUserFormComponent Value="infoOfUserToRegister" />

    <ProfileSelectionComponent Value=" infoOfUserToRegister" />

    @if (isBusy) // Loading button
    {
        <button class="btn btn-primary width:13em mt-4 mb-4" type="button">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Validando información
        </button>
    }
    else
    {
        <button type="submit" class="btn btn-primary mt-4 mb-4 text-center" style="width:13em">Registrar usuario</button>
    }

    </EditForm>