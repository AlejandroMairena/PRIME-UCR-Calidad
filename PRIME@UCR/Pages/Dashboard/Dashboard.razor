@page "/dashboard"
@*Example of policy based authorization in a page*@

@attribute [HasPermission(AuthorizationPermissions.CanSeeIncidentsInfoOnDashboard)]

@layout MainLayout
@using ChartJs.Blazor.Charts
@using PRIME_UCR.Application.Implementations.UserAdministration;
@using PRIME_UCR.Domain.Constants

@*Example of policy based authorization in a piece of code*@

<AuthorizeView Policy="@AuthorizationPermissions.CanSeeIncidentsInfoOnDashboard.ToString()">
    <Authorized>
        <h1>
            Dashboard
        </h1>
    </Authorized>
    <NotAuthorized>
        <h1>
            No dashboard
        </h1>
    </NotAuthorized>
</AuthorizeView>

<div class="wrapper">
    <div class="rounded" style="background-color: white;padding: 10px">
        <IncidentsCounterComponent @bind-Value="_finishedLoadingCounters"/>
    </div>
</div>

<br />

<Loading IsLoading="!_finishedLoadingCounters">
    <div class="wrapper">
        <div class="rounded" style="background-color: white;padding-left: 10px;padding-right: 10px;">
            <FiltersComponent @bind-Value="FilterInfo"/>
            <br>
        </div>
    </div>
</Loading>